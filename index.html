<!DOCTYPE html>
<html lang="en">

<head>
  <title>Preoccupations</title>
  <link rel="preload" href="./fonts/Source_Serif_Pro/source-serif-pro-v15-latin-regular.woff" as="font" type="font/woff"
    crossorigin>
  <link rel="preload" href="./fonts/Source_Serif_Pro/source-serif-pro-v15-latin-regular.woff2" as="font"
    type="font/woff2" crossorigin>

  <script src="lib/rita.js"></script>
  <script>
    // production or development
    const phosts = ['rednoise.org', 'dhowe.github.io'];
    const production = phosts.includes(location.hostname);
    const tag = production ? '(prod)' : '(dev)';

    // kiosk and shadow modes
    const kiosk = new URLSearchParams(window.location.search).has('kiosk');
    const shadow = new URLSearchParams(window.location.search).has('shadow');

    // load/display app version
    fetch('package.json').then(res => res.json())
      .then(pkg => console.log(`[INFO] ${pkg.name} v${pkg.version} ${tag}`))
      .catch(e => console.log('[WARN] No Version!', e));

    function closeAbout() {
      document.getElementById("about-container").style.display = 'none';
      document.getElementById("icon-container").classList.remove("display-none");
      document.getElementById("legend-container").classList.remove("display-none")
    }
  </script>
  <script src="lib/progressbar.js"></script>
  <link rel="stylesheet" href="style.css">
  <meta charset="utf-8">
  <meta name="description" content="'Preoccupations' by John Cayley & Daniel Howe">
  <meta name="application-name" content="Preoccupations">
  <meta name="author" content="John Cayley & Daniel Howe">
  <meta name="robots" content="index, follow, noodp, noydir" />
  <meta name="keywords"
    content="preoccupations, howe, cayley, generative art, digital literature, eletronic literature, e-lit">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <div id="center-wrapper">
    <div id="centered-container">
      <div id="about-container">
        <div id="about-background"></div>
        <div id="about" class="modal">
          <div id="aboutTitle">Preoccupations</div>
          <div id="aboutDescription">
            <p><em>Preoccupations</em> presents prose poetic and discursive translations between
              a pair of structurally related texts, set respectively in contemplative-rural and
              combative-urban environments.
            </p>
            <p>See <a href="https://thenewriver.us/preoccupations/" target="_blank">this page</a> for more&nbsp;info...
            </p>
          </div>
          <div id="aboutAuthor"><a href="https://programmatology.shadoof.net/" target="_blank">John Cayley</a> & <a
              href="https://rednoise.org/daniel" target="_blank">Daniel C Howe</a><br />
            May 1, 2022
          </div>
          <div id="aboutClose"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img
                alt="Creative Commons License" style="border-width:0" target="_blank"
                src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a>
          </div>
          <a href="javascript:void(0)" rel="modal:close" class="close-modal " onclick="closeAbout()">Close</a>
        </div>
      </div>
      <div id="container">
        <div id="display-container">
          <div id="display"></div>
          <div id="legend-container"></div>
          <div id="icon-container"></div>
          <div id="progress-bars">
            <div id="progress0" class="progress initial"></div>
            <div id="progress1" class="progress free"></div>
            <div id="progress2" class="progress shared-rural"></div>
            <div id="progress3" class="progress urban"></div>
            <div id="progress4" class="progress rural"></div>
          </div>
        </div>
      </div>
    </div>
    <div id="stats">statistics</div>
    <canvas id="measure-ctx" style="display: none;"></canvas>
  </div>
  <script src="circular-layout.js"></script>
  <script src="interface.js"></script>
  <script src="cache.js"></script>
  <script src="reader.js"></script>
  <script src="helpers.js"></script>
  <script src="main.js"></script>
</body>

</html>